<canvas id=z width=400 height=400><script>a='fillStyle';b='fillRect';c=z.getContext('2d');c.font="20px Arial";function d(e){if(e){f=[0];g=2;}h=~~(j*Math.random());k=1;l=0}d(j=400);document.onkeydown=function(m){n=m.which;if(k&36<n&n<41&g%2==n%2){g=n-37;k=0}if(l&n==32){d(1)}};setInterval(function(){c[a]="#cfb";c[b](0,0,j,j);c[a]="#444";if(l){c.fillText("Game Over! Press Space to start",50,160)}else{f.unshift(o=f[0]-[1,p=20,-1,-p][g]);f.pop();if(o==h){f.push(d())}for(i in f){q=f[i];if(i>0&o==q){l=1}c[b](q%p*p,~~(q/p)*p,r=19,k=r)}s=o%p-g;if(o<0|o>j|!(g%2|s!=-2&s!=r)){l=1}c[a]="#f01";c[b](h%p*p,~~(h/p)*p,r,r)}},99);</script>