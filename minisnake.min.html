<canvas id=a width=400 height=400 /><script>a='fillStyle';b='fillRect';c=Math.floor;d=Math.random;e=document;f=e.getElementById('a').getContext('2d');g={37:-1,39:1};h={38:-1,40:1};function j(k){if(!k){l=[{x:9,y:9}];m=37;}n=c(20*d());o=c(20*d());p=1;}j();e.onkeydown=function(r){q=r.which;if(p&&36<q&&q<41&&m%2!=q%2){m=q;p=0;}};setInterval(function(){f[a]="#cfb";f[b](0,0,400,400);s=l[0];l.unshift({x:s.x+(g[m]||0),y:s.y+(h[m]||0)});t=l[0].x;u=l[0].y;l.pop();if(t<0||u<0||t>19||u>19){j();}if(t==n&&u==o){l.push([-1,-1]);j(1);}f[a]="#f01";f[b](20*n,20*o,19,19);f[a]="#444";for(i in l){v=l[i].x;w=l[i].y;f[b](20*v,20*w,19,19);if(i>0&&t==v&&u==w){j();}}p=1;},99);</script>