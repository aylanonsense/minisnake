<canvas id=z width=400 height=400><script>a='fillStyle';b='fillRect';c=z.getContext('2d');c.font="20px Arial";d=[-1,-20,1,e=20];function f(g){if(g){h=[0];j=2;}k=~~(l*Math.random());m=1;n=0}f(l=400);document.onkeydown=function(o){p=o.which;if(m&36<p&p<41&j%2==p%2){j=p-37;m=0}if(n&p==32){f(1)}};setInterval(function(){c[a]="#cfb";c[b](0,0,l,l);c[a]="#444";if(n){c.fillText("Game Over! Press Space to start",50,160)}else{h.unshift(h[0]+d[j]);q=h[0];h.pop();if(q==k){h.push(-1);f()}for(i in h){r=h[i];if(i>0&q==r){n=1}c[b](r%e*e,~~(r/e)*e,s=19,s)}m=1;t=q%e-j;if(q<0|q>l|!(j%2|t!=-2&t!=s)){n=1}c[a]="#f01";c[b](k%e*e,~~(k/e)*e,s,s)}},99);</script>