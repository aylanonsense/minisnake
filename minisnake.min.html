<canvas id=a width=400 height=400 /><script>a='fillStyle';b='fillRect';c=Math.floor;d=Math.random;e=document;f=e.getElementById('a').getContext('2d');g={37:-1,39:1};h={38:-1,40:1};function t(i){if(!i){j=[{x:9,y:9}];k=37;}l=c(20*d());m=c(20*d());n=1;}t();e.onkeydown=function(o){p=o.which;if(n&36<p&p<41&k%2!=p%2){k=p;n=0;}};setInterval(function(){f[a]="#cfb";f[b](0,0,400,400);q=j[0];j.unshift({x:q.x+(g[k]|0),y:q.y+(h[k]|0)});r=j[0].x;s=j[0].y;j.pop();if(r<0|s<0|r>19|s>19){t();}if(r==l&s==m){j.push([-1,-1]);t(1);}f[a]="#f01";f[b](20*l,20*m,19,19);f[a]="#444";for(i in j){u=j[i].x;v=j[i].y;f[b](20*u,20*v,19,19);if(i>0&r==u&s==v){t();}}n=1;},99);</script>