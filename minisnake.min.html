<canvas id=z width=400 height=400><script>a='fillStyle';b='fillRect';c=Math.random;d=z.getContext('2d');d.font="20px Arial";e=[0,-1,0,1,0];function f(g){if(g){h=[[9,9]];j=0;}k=~~(o*c());l=~~(o*c());m=1;n=0}f(o=20);document.onkeydown=function(p){q=p.which;if(m&36<q&q<41&j%2==q%2){j=q-37;m=0}if(n&q==32){f(1)}};setInterval(function(){d[a]="#cfb";d[b](0,0,400,400);d[a]="#444";if(n){d.fillText("Game Over! Press Space to start",50,160)}else{r=h[0];h.unshift([r[0]+e[j+1],r[1]+e[j]]);s=h[0][0];t=h[0][1];h.pop();if(s==k&t==l){h.push([-1,-1]);f()}for(i in h){u=h[i][0];v=h[i][1];if(i>0&s==u&t==v){n=1}d[b](o*u,o*v,y=19,y)}m=1;if(s<0|t<0|s>y|t>y){n=1}d[a]="#f01";d[b](o*k,o*l,y,y)}},99);</script>