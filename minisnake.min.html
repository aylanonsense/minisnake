<canvas id="z" width=400 height=400><script>a='fillStyle';b='fillRect';c=Math.random;d=z.getContext('2d');d.font="20px Arial";e=[-1,-20,1,20];f=20;function g(h){if(h){j=[0];k=2;}l=~~(m*c());n=1;o=0}g(m=400);document.onkeydown=function(p){q=p.which;if(n&36<q&q<41&k%2==q%2){k=q-37;n=0}if(o&q==32){g(1)}};setInterval(function(){d[a]="#cfb";d[b](0,0,m,m);d[a]="#444";if(o){d.fillText("Game Over! Press Space to start",50,160)}else{j.unshift(j[0]+e[k]);r=j[0];j.pop();if(r==l){j.push(-1);g()}for(i in j){s=j[i];if(i>0&r==s){o=1}d[b](s%20*f,~~(s/20)*f,u=19,u)}n=1;t=r%20-k;if(r<0|r>m|!(k%2|t!=-2&t!=19)){o=1}d[a]="#f01";d[b](l%20*f,~~(l/20)*f,u,u)}},99);</script>