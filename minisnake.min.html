<canvas id=z width=400 height=400><script>a='fillStyle';b='fillRect';c=Math.random;d=z.getContext('2d');e=20;f=19;d.font="20px Arial";g=[0,-1,0,1,0];function h(i){if(!i){j=[{x:9,y:9}];k=0;}l=~~(e*c());m=~~(e*c());n=1;o=0}h();document.onkeydown=function(p){q=p.which;if(n&36<q&q<41&k%2==q%2){k=q-37;n=0}if(o&q==32){h()}};setInterval(function(){d[a]="#cfb";d[b](0,0,400,400);d[a]="#444";if(o) {d.fillText("Game Over! Press Space to start",50,160)}else{r=j[0];j.unshift({x:r.x+g[k+1],y:r.y+g[k]});s=j[0].x;t=j[0].y;j.pop();if(s<0|t<0|s>f|t>f){o=1}if(s==l&t==m){j.push([-1,-1]);h(1)}for(i in j){u=j[i].x;v=j[i].y;d[b](e*u,e*v,f,f);if(i>0&s==u&t==v){o=1}}n=1;d[a]="#f01";d[b](e*l,e*m,f,f)}},99);</script>